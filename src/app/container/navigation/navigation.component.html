<mat-toolbar color="primary" class="app-toolbar">
  <button mat-icon-button (click)="sidenav.toggle()">
    <mat-icon>menu</mat-icon>
  </button>
  <h1>{{app.title}}</h1>
  <span class="toolbar__spacer"></span>
  <span class="toolbar__info">你好，{{username | async}} ！</span>
  <span class="toolbar__pwd" (click)="changePwd()">修改密码</span>
  <span class="toolbar__logout" (click)="logout()">
    <button mat-mini-fab type="button"><mat-icon>power_settings_new</mat-icon></button>
  </span>
</mat-toolbar>
<mat-sidenav-container class="app-container">
  <mat-sidenav #sidenav mode="side" opened="true" class="app-nav">
    <nav id="container" class="nav__container">
      <ul class="nav__list" *ngIf="navigation">
        <li *ngFor="let menu of navigation | async">
          <div class="nav__item" [class.open]="menu.open">
            <div class="nav__title">
              <a *ngIf="!menu.children||(menu.children&&menu.children.length===0)"
                 routerLinkActive="active"
                 [routerLink]="[menu.href,menu.menuId]">
                {{menu.menuName}}
              </a>
              <span *ngIf="menu.children&&menu.children.length!==0"
                    (click)="toggleSub(menu)">
                {{menu.menuName}}
                <mat-icon>chevron_right</mat-icon>
              </span>
            </div>
          </div>
          <ul class="nav-sub__list" *ngIf="menu.children&&menu.children.length!==0">
            <li class="nav-sub__item" *ngFor="let subMenu of menu.children">
              <div class="nav-sub__title">
                <a routerLinkActive="active" [routerLink]="[subMenu.href,subMenu.menuId]">
                  {{subMenu.menuName}}
                </a>
              </div>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
  </mat-sidenav>
  <div class="app-main">
    <ng-content></ng-content>
  </div>
</mat-sidenav-container>
