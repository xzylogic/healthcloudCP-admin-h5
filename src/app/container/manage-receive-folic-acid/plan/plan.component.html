<app-container [config]="containerConfig">
  <div class="content">
    <md-tab-group dynamicHeight="true" [selectedIndex]="tab">
      <md-tab label="排班表">
        <div class="table-container clear">
          <table class="table" *ngIf="weekListAm&&weekListPm">
            <thead>
            <tr>
              <th></th>
              <th>周日</th>
              <th>周一</th>
              <th>周二</th>
              <th>周三</th>
              <th>周四</th>
              <th>周五</th>
              <th>周六</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>上午</td>
              <td *ngFor="let obj of weekListAm">
                <md-checkbox [(ngModel)]="obj.workState"></md-checkbox>
              </td>
            </tr>
            <tr>
              <td>下午</td>
              <td *ngFor="let obj of weekListPm">
                <md-checkbox [(ngModel)]="obj.workState"></md-checkbox>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
        <p>温馨提示：请设置排班表，再维护号源。
          <md-icon class="icon">check_box_outline_blank</md-icon>
          表示不上班，
          <md-icon class="icon">check_box</md-icon>
          表示上班
        </p>
        <div class="button-content">
          <button md-raised-button color="primary" (click)="saveWeekList()">保存</button>
        </div>
      </md-tab>
      <md-tab label="号源维护">
        <div class="table-container clear">
          <table class="table" *ngIf="timeList1&&timeList2&&timeList3&&timeList4&&timeList5&&timeList6">
            <thead>
            <tr>
              <th>
                <div style="min-width:100px"></div>
              </th>
              <th>周日</th>
              <th>周一</th>
              <th>周二</th>
              <th>周三</th>
              <th>周四</th>
              <th>周五</th>
              <th>周六</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>08:00 - 09:00</td>
              <td *ngFor="let obj of timeList1;let i = index">
                <input class="time-input" type="number" name="stock1" [(ngModel)]="obj.stock"
                       [disabled]="!obj.workState" (change)="resetNumber(timeList1, i)">
              </td>
            </tr>
            <tr>
              <td>09:00 - 10:00</td>
              <td *ngFor="let obj of timeList2;let i = index">
                <input class="time-input" type="number" name="stock1" [(ngModel)]="obj.stock"
                       [disabled]="!obj.workState" (change)="resetNumber(timeList2, i)">
              </td>
            </tr>
            <tr>
              <td>10:00 - 11:00</td>
              <td *ngFor="let obj of timeList3;let i = index">
                <input class="time-input" type="number" name="stock1" [(ngModel)]="obj.stock"
                       [disabled]="!obj.workState" (change)="resetNumber(timeList3, i)">
              </td>
            </tr>
            <tr>
              <td>13:00 - 14:00</td>
              <td *ngFor="let obj of timeList4;let i = index">
                <input class="time-input" type="number" name="stock1" [(ngModel)]="obj.stock"
                       [disabled]="!obj.workState" (change)="resetNumber(timeList4, i)">
              </td>
            </tr>
            <tr>
              <td>14:00 - 15:00</td>
              <td *ngFor="let obj of timeList5;let i = index">
                <input class="time-input" type="number" name="stock1" [(ngModel)]="obj.stock"
                       [disabled]="!obj.workState" (change)="resetNumber(timeList5, i)">
              </td>
            </tr>
            <tr>
              <td>15:00 - 16:00</td>
              <td *ngFor="let obj of timeList6;let i = index">
                <input class="time-input" type="number" name="stock1" [(ngModel)]="obj.stock"
                       [disabled]="!obj.workState" (change)="resetNumber(timeList6, i)">
              </td>
            </tr>
            </tbody>
          </table>
        </div>
        <p>温馨提示：请设置排班表，再维护号源。
          <span *ngIf="timeList1&&timeList2&&timeList3&&timeList4&&timeList5&&timeList6">
            点击单元格直接编辑数字，无排班日期的时间不用设置号源。
          </span>
        </p>
        <div class="button-content" *ngIf="timeList1&&timeList2&&timeList3&&timeList4&&timeList5&&timeList6">
          <button md-raised-button color="primary" (click)="saveTimeList()">保存</button>
        </div>
      </md-tab>
      <md-tab label="排班日历表">
        <div class="tab-content">
          <app-calendar [viewDate]="viewDate"
                        [events]="events"
                        (dayClick)="handleDayClick($event)">
          </app-calendar>
          <p style="padding: 1em 0">温馨提示：特殊节假日请选择具体日期单独设置</p>
        </div>
      </md-tab>
    </md-tab-group>
  </div>
</app-container>
