<div class="table-container clear">
  <table class="table" *ngIf="table">
    <thead>
    <tr>
      <th *ngFor="let title of table.titles">{{title.name}}</th>
    </tr>
    </thead>
    <tbody *ngIf="table.lists&&table.lists.length!=0">
    <tr *ngFor="let list of table.lists;let i=index">
      <td *ngFor="let title of table.titles" [ngSwitch]="title.controlType" data-title="{{title.name}}">
        <div *ngSwitchCase="controlType.index" [style.minWidth.px]="title.minwidth" [style.maxWidth.px]="title.maxwidth"
             [ngStyle]="{'text-align': title.align}"
             class="table__content">
          <span>{{i + 1 + table.currentPage * table.size}}</span>
        </div>
        <div *ngSwitchCase="controlType.text" [style.minWidth.px]="title.minwidth" [style.maxWidth.px]="title.maxwidth"
             [ngStyle]="{'text-align': title.align}"
             class="table__content">
          <span>{{list[title.key] == 0 ? list[title.key] : list[title.key] || ''}}</span>
        </div>
        <div *ngSwitchCase="controlType.option" [style.minWidth.px]="title.minwidth"
             [style.maxWidth.px]="title.maxwidth" [ngStyle]="{'text-align': title.align}"
             class="table__content clear">
          <span style="padding-right: 15px">{{list[title.key] == 0 ? list[title.key] : list[title.key] || ''}}</span>
          <mat-icon (click)="gotoHandle(title.key,list)" style="float: right;cursor: pointer">
            {{title.option || 'help_outline'}}
          </mat-icon>
        </div>
        <div *ngSwitchCase="controlType.pipe" [style.minWidth.px]="title.minwidth" [style.maxWidth.px]="title.maxwidth"
             [ngStyle]="{'text-align': title.align}"
             class="table__content">
          <span>{{list[title.key] | yesorno:title.option.key:title.option.value }}</span>
        </div>
        <div *ngSwitchCase="controlType.maxtext" [style.minWidth.px]="title.minwidth"
             [style.maxWidth.px]="title.maxwidth"
             [ngStyle]="{'text-align': title.align}"
             style="height: 22px; overflow: hidden;text-overflow: ellipsis;white-space: nowrap;"
             class="table__content">
          <span>{{list[title.key] == 0 ? list[title.key] : list[title.key] || ''}}</span>
        </div>
        <div *ngSwitchCase="controlType.date" [style.minWidth.px]="title.minwidth" [style.maxWidth.px]="title.maxwidth"
             [ngStyle]="{'text-align': title.align}"
             class="table__content">
          <span>{{list[title.key] | datex:"YYYY-MM-DD HH:mm:ss"}}</span>
        </div>
        <div *ngSwitchCase="controlType.image" class="table__image"
             [ngStyle]="{'text-align': title.align}">
          <img src="{{list[title.key]}}">
        </div>
        <div *ngSwitchCase="controlType.button" [style.minWidth.px]="title.minwidth" class="table__content"
             [ngStyle]="{'text-align': title.align}">
          <span (click)="gotoHandle(title.key,list)" class="table__option">{{title.option || title.name}}</span>
        </div>
        <div *ngSwitchCase="controlType.buttons" [style.minWidth.px]="title.minwidth" class="table__content"
             [ngStyle]="{'text-align': title.align}">
          <span *ngFor="let btn of title.option">
          <span *ngIf="list[btn.key]||list[btn.key]==0||btn.name" (click)="gotoHandle(btn.key,list)"
                class="table__option"
                style="padding: 0 10px">{{(list[btn.key]&&list[btn.key]==0?list[btn.key]:list[btn.key]||btn.name) | yesorno:title.pipe.key:title.pipe.value}}</span>
          </span>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div class="container-error" *ngIf="table.lists&&table.lists.length==0">暂无数据</div>
  <div class="page__items" *ngIf="table.ifPage&&table.totalPage&&table.lists&&table.lists.length!=0">
    <a class="item icon" (click)="getFirstPage()">
      <mat-icon>first_page</mat-icon>
    </a>
    <a class="item icon" (click)="getPrePage()">
      <mat-icon>chevron_left</mat-icon>
    </a>
    <a class="item" *ngFor="let page of pageList" [class.active]="page-1==table.currentPage"
       [class.disable]="page=='...'"
       (click)="getCurrentPage(page)">{{page}}</a>
    <a class="item icon" (click)="getNextPage()">
      <mat-icon>chevron_right</mat-icon>
    </a>
    <a class="item icon" (click)="getLastPage()">
      <mat-icon>last_page</mat-icon>
    </a>
  </div>
</div>
